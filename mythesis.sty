\ProvidesPackage{mythesis}[2005/07/28]
\RequirePackage{hepnicenames,hepunits}
\RequirePackage{acronym,subcaption,caption,todonotes,cleveref,cancel,amssymb,amsmath}
\RequirePackage{footmisc}

% Some shorthand
% turn off italics
\newcommand {\etal}{\mbox{et al.}\xspace} %et al. - no preceding comma
\newcommand {\ie}{\mbox{i.e.}\xspace}     %i.e.
\newcommand {\eg}{\mbox{e.g.}\xspace}     %e.g.
\newcommand {\etc}{\mbox{etc.}\xspace}     %etc.
\newcommand {\vs}{\mbox{\sl vs.}\xspace}      %vs.
\newcommand {\mdash}{\ensuremath{\mathrm{-}}} % for use within formulas
% define an inline todo command
\newcommand{\todoi}[1]{\todo[inline]{#1}}
% shorten typing out parentheses
\newcommand{\parenths}[1]{\ensuremath{\left(#1\right)}}
\newcommand{\specialcell}[2][c]{%
  \begin{tabular}[#1]{@{}c@{}}#2\end{tabular}}


%% General utility defns
\DeclareRobustCommand{\purity}{\thesismath{p}\xspace}
\DeclareRobustCommand{\luminosity}{\thesismath{\mathcal{L}}\xspace}
\DeclareRobustCommand{\sqrtS}{\thesismath{\sqrt{s}}\xspace}

%% Processes
\DeclareRobustCommand{\X}{\thesismath{X}\xspace}
\DeclareRobustCommand{\gjet}{\HepProcess{\Pphoton + jet}\xspace}
\DeclareRobustCommand{\Bsmumu}{\HepProcess{\PBs\to\Pmu\Pmu}\xspace}
\DeclareRobustCommand{\Bdmumu}{\HepProcess{\PBd\to\Pmu\Pmu}\xspace}
\DeclareRobustCommand{\Btaunu}{\HepProcess{\PB\to\Ptau\Pnu}\xspace}
\DeclareRobustCommand{\BXsll}{\HepProcess{\PB\to\X_{s}\Plepton\Plepton}\xspace}
\DeclareRobustCommand{\Kmunu}{\HepProcess{\PK\to\Pmu\Pnu}\xspace}
\DeclareRobustCommand{\Kpinunu}{\HepProcess{\PK\to\Ppi\Pnu\APnu}\xspace}
\DeclareRobustCommand{\bsg}{\HepProcess{\Pbottom\to\Pstrange\Pphoton}\xspace}
\DeclareRobustCommand{\Htt}{\HepProcess{\PHiggsheavy\to\Ptau\Ptau}\xspace}
\DeclareRobustCommand{\bbHSM}{
    \HepProcess{\Pbottom\APbottom\to\PHiggsheavy_{\textrm{SM}}}\xspace
}
\DeclareRobustCommand{\bsg}{\HepProcess{\Pbottom\to\Pstrange\Pphoton}\xspace}
\DeclareRobustCommand{\gmtwo}{\HepProcess{\parenths{g-2}_{\Pmu}}\xspace}
\DeclareRobustCommand{\Znunu}{\HepProcess{\PZ\to\Pnu\APnu}\xspace}
\DeclareRobustCommand{\Zmumu}{\HepProcess{\PZ\to\Pmu\Pmu}\xspace}
\DeclareRobustCommand{\ttbar}{\HepProcess{\Ptop\APtop}\xspace}
\DeclareRobustCommand{\ttbarjets}{\HepProcess{\Ptop\APtop+\textrm{jets}}\xspace}
\DeclareRobustCommand{\tbW}{\HepProcess{\Ptop\to\Pbottom\PW}\xspace}
\DeclareRobustCommand{\Wlnu}{\HepProcess{\PW\to\Plepton\Pnu}\xspace}
\DeclareRobustCommand{\Wmunu}{\HepProcess{\PW\to\Pmu\Pnu}\xspace}
\DeclareRobustCommand{\Wjets}{\HepProcess{\PW+\textrm{jets}}\xspace}
\DeclareRobustCommand{\gjets}{\HepProcess{\Pphoton+\textrm{jets}}\xspace}
\DeclareRobustCommand{\mujets}{\HepProcess{\Pmu+\textrm{jets}}\xspace}
\DeclareRobustCommand{\mumujets}{\HepProcess{\Pmu\Pmu+\textrm{jets}}\xspace}
\DeclareRobustCommand{\DYjets}{\HepProcess{\textrm{DY}+\textrm{jets}}\xspace}
\DeclareRobustCommand{\Znunujets}{\HepProcess{
    \PZ\to\Pnu\APnu+\textrm{jets}}
\xspace} 
\DeclareRobustCommand{\Zmumujets}{\HepProcess{
    \PZ\to\Pmu\Pmu+\textrm{jets}}
\xspace} 
\DeclareRobustCommand{\ttW}{\ensuremath{\Ptop\Ptop\PW}\xspace}
\DeclareRobustCommand{\Zinv}{\ensuremath{\PZ\textrm{inv}}\xspace}
\DeclareRobustCommand{\fZinv}{\ensuremath{f_{\Zinv}\xspace}}
\DeclareRobustCommand{\stauneu}{\PStau-\PSneutralino}

% Programs
\newcommand{\Program}[1]{\texttt{#1}\xspace}
\newcommand{\Mastercode}{\Program{Mastercode}}
\newcommand{\FeynHiggs}{\Program{FeynHiggs}}
\newcommand{\SoftSUSY}{\Program{SoftSUSY}}
\newcommand{\MicrOMEGAs}{\Program{MicrOMEGAs}}
\newcommand{\DarkSUSY}{\Program{DarkSUSY}}
\newcommand{\SuperIso}{\Program{SuperIso}}
\newcommand{\lspscat}{\Program{SSARD}}
\newcommand{\Bphysics}{\Program{Bphysics}}
\newcommand{\SUSYPOPE}{\Program{FeynWZ}}
\newcommand{\MINUIT}{\Program{MINUIT}}
\newcommand{\Delphes}{\Program{Delphes}}

%math
\newcommand{\chisq}{\ensuremath{\chi^{2}}\xspace}
\newcommand{\dchi}{\ensuremath{\Delta\chisq}\xspace}
\newcommand{\Lag}[1]{\ensuremath{\mathcal{L}_{\textrm{#1}}}\xspace}
\newcommand{\LambdaUV}{\ensuremath{\Lambda_{\textrm{UV}}}\xspace}
\newcommand{\ket}[1]{\ensuremath{\left|#1\right>}\xspace}
\newcommand{\modu}[1]{\ensuremath{\left|#1\right|}\xspace}

\newcommand{\Uone}{\ensuremath{U\parenths{1}}\xspace}
\newcommand{\SUtwo}{\ensuremath{SU\parenths{2}}\xspace}
\newcommand{\SUthree}{\ensuremath{SU\parenths{3}}\xspace}

\newcommand{\sgnMu}{\ensuremath{\textrm{sign}\parenths{\mu}}\xspace}

% Physics symbols ...
\newcommand{\PT}{\ensuremath{p_{\textrm{T}}}\xspace}
\newcommand{\PTj}{\ensuremath{p_{\textrm{T}}^{\textrm{jet}}}\xspace}
\newcommand{\HT}{\ensuremath{H_{\textrm{T}}}\xspace}
\newcommand{\MHT}{\ensuremath{H_{\textrm{T}}^{\text{miss}}}\xspace}
\newcommand{\ET}{\ensuremath{E_{\textrm{T}}}\xspace}
\newcommand{\ETj}{\ensuremath{E_{\textrm{T}}^{\textrm{jet}}}\xspace}
\newcommand{\MET}{\ensuremath{\ET^{\textrm{miss}}}\xspace}
\newcommand{\Njet}{\ensuremath{N_{\textrm{jet}}}\xspace}
\newcommand{\aT}{\ensuremath{\alpha_{T}}\xspace}
\newcommand{\RaT}{\ensuremath{R_{\aT}}\xspace}
\newcommand{\Dphistar}{\ensuremath{\Delta\phi^{*}}\xspace}


\newcommand{\BR}[1]{\ensuremath{\textrm{BR}\parenths{#1}}\xspace}
\newcommand{\R}[1]{\ensuremath{\textrm{R}\parenths{#1}}\xspace}
\newcommand{\BRexpSM}[1]{\ensuremath{\textrm{BR}^{\textrm{EXP/SM}}_{#1}}\xspace}

\newcommand{\Afb}[1]{\ensuremath{A_{\rm fb}\parenths{#1}}\xspace}
\newcommand{\AlSLD}{\ensuremath{A_{\ell}({\rm SLD})}\xspace}
\newcommand{\AlPtau}{\ensuremath{A_{\ell}(P_\Ptau)}\xspace}
\newcommand{\sinsqtheta}{%
    \ensuremath{%
        \sin^{2}\theta_{\rm w}^{\ell}(Q_{\rm fb})
    }\xspace
}
\newcommand{\emm}{\ensuremath{\vec{\mu_{\Pe}}\xspace}}
\newcommand{\amm}{\ensuremath{\parenths{g_{\Plepton}-2}}\xspace}
\newcommand{\muonam}{\ensuremath{\parenths{g_{\Pmu}-2}}\xspace}
\newcommand{\deltagm}{\ensuremath{a_{\mu}^{\rm EXP} - a_{\mu}^{\rm SM}}\xspace}
\newcommand{\deltagmvalue}{%
    \ensuremath{%
        (30.2\pm8.8\pm2.0_{\rm SUSY})\times10^{-10}
    }\xspace
}
\newcommand{\DMBs}{\ensuremath{\Delta M_{\PBs}}\xspace}
\newcommand{\DMBd}{\ensuremath{\Delta M_{\PBd}}\xspace}
\newcommand{\DAhad}{\ensuremath{\Delta\alpha_{\rm had}(\PZ)}\xspace}
\newcommand{\Dek}{\ensuremath{\Delta \epsilon_{K}}\xspace}
\newcommand{\sighad}{\ensuremath{\sigma_{\rm had}^{0}}\xspace}
\newcommand{\Ohsq}{\ensuremath{\Omega_{c}h^{2}}\xspace}
\newcommand{\spsi}{\ensuremath{\sigma_{p}^{\textrm{SI}}}\xspace}
\newcommand{\mass}[1]{\ensuremath{m_{#1}}\xspace}
\newcommand{\m}[1]{\mass{#1}\xspace}
\newcommand{\mh}{\m{\PHiggslightzero}}
\newcommand{\tanbeta}{\ensuremath{\tan{\beta}}\xspace}

\newcommand{\higgs}{Higgs\xspace}

\newcommand{\mZero}{\m{0}}
\newcommand{\mHalf}{\m{1/2}}
\newcommand{\mHud}{\m{{H_{\textrm{1,2}}}}}
\newcommand{\msqr}{\m{\PSq_{R}}}
\newcommand{\mZeromHalf}{\m{0},\m{1/2}}
\newcommand{\mZerotanbeta}{\m{0},\tanbeta}
\newcommand{\tanbetamHalf}{\tanbeta,\m{1/2}}
\newcommand{\mNeu}{\m{\PSneutralinoOne}}
\newcommand{\mNeuspsi}{\m{\PSneutralinoOne},\spsi\xspace}
\newcommand{\mHtanbeta}{\ensuremath{\m{\PHiggsheavy},\tanbeta}}
\newcommand{\sigmaBR}{\ensuremath{\sigma\times\textrm{BR}}\xspace}
\newcommand{\mHsigmaBR}{\ensuremath{\m{\PHiggsheavy},\sigmaBR}\xspace}
\newcommand{\sigmaWW}{\ensuremath{
    \sigma\parenths{\PW\PW\rightarrow\PW\PW}
    }\xspace}

% sample values
\newcommand{\nmSUGRA}{\ensuremath{30\times10^{6}}\xspace}
\newcommand{\ncMSSM}{\ensuremath{95\times10^{6}}\xspace}
\newcommand{\nNUHM}{\ensuremath{221\times10^{6}}\xspace}

\newcommand{\CDF}{CDF\xspace}
\newcommand{\DZero}{D\O\xspace}

\newcommand{\blnkbinom}[2]{\ensuremath{\genfrac{}{}{0pt}{}{#1}{#2}}\xspace}

\newcommand{\leptondoublet}[1]{
    \ensuremath{\binom{\nu_{#1}}{#1}_{L}}\xspace
}

% Stats and equations
\newcommand{\CLs}{\ensuremath{\textrm{CL}_{\textrm{s}}}\xspace}
\newcommand{\CLb}{\ensuremath{\textrm{CL}_{\textrm{b}}}\xspace}
\newcommand{\CLsb}{\ensuremath{\textrm{CL}_{\textrm{s}+\textrm{b}}}\xspace}
\newcommand{\CL}[1]{
    \ensuremath{
        #1\%~\textrm{CL}
    }\xspace
}
\newcommand{\LHCbBsmumuValue}{
    \ensuremath{
        \parenths{3.2^{+1.5}_{-1.2}}\times 10^{-9}
        }\xspace
}
\newcommand{\CMSBsmumuValue}{
    \ensuremath{
        7.7\times 10^{-9}
    }\xspace
}
\newcommand{\SMBsmumuValue}{
    \ensuremath{
        \parenths{3.23\pm0.27}\times 10^{-9}
    }\xspace
}

\newcommand{\lhoodbase}{%
    \ensuremath{%
    \sum_{i}^{N}\frac{\left(C_{i}-P_{i}\right)^{2}} 
        {\sigma\left(C_{i}\right)^{2}+\sigma\left(P_{i}\right)^{2}} 
    }\xspace
}
\newcommand{\lhoodsm}{%
    \ensuremath{%
    \sum_{i}^{M}\frac{\left(f^{\textrm{obs}}_{\textrm{SM}_{i}} -
            f^{\textrm{SUSY}}_{\textrm{SM}_{i}}\right)^{2}}
        {\sigma\left(f_{\textrm{SM}_{i}}\right)^{2}}
    }\xspace
}
\newcommand{\lhoodxenon}{%
    \ensuremath{%
        \chi^{2}\parenths{\mass{\PSneutralinoOne},\ \spsi}
    }\xspace
}
\newcommand{\lhoodmh}{%
    \ensuremath{%
        \chi^{2}_{\textrm{LEP}}\parenths{\mass{\PHiggslightzero}}
    }\xspace
}
\newcommand{\lhoodsusysearch}{%
    \ensuremath{%
        \chi^{2}\parenths{\textrm{SUSY search limits}}
    }\xspace
}
\newcommand{\lhooddirects}{%
    \ensuremath{%
        \chi^{2}\parenths{\textrm{Direct Searches}}
    }\xspace
}
\newcommand{\lhoodbsmumu}{%
    \ensuremath{%
        \chi^{2}\parenths{\BR{\Bsmumu}}
    }\xspace
}
\newcommand{\lhoodheavyhiggs}{%
    \ensuremath{%
        \chi^{2}\parenths{\PHiggsheavy\rightarrow\Ptau\Ptau}
    }\xspace
}
\newcommand{\lhoodmhcms}{%
    \ensuremath{%
        \chi^{2}\parenths{\mathcal{G}\parenths{\m{\PHiggslightzero}}}
    }\xspace
}

\newcommand{\pspacetable}[3]{%
    \begin{figure}[t!]
        \centering
        \makebox[\textwidth][c]{
        \begin{subfigure}[]{0.60\textwidth}
            \centering
            \includegraphics[width=\textwidth]{mc/nuhm1_#1}
            \caption{\ac{cMSSM}}
            \label{fig:cmssm_#1}
        \end{subfigure}
        \begin{subfigure}[]{0.60\textwidth}
            \centering
            \includegraphics[width=\textwidth]{mc/cmssm_#1}
            \caption{\ac{NUHM}1}
            \label{fig:nuhm1_#1}
        \end{subfigure}
    }
    \caption[#2]{#3}
    \label{fig:#1}
    \end{figure}
}

% Acronyms
% \acrodef{label}[acronym]{written out form},
% for example:
% \acrodef{etacar}[$\eta$ Car]{Eta Carinae}

% Acronyms - Physics
\acrodef{LH}[LH]{Left Handed}
\acrodef{RH}[RH]{Right Handed}
\acrodef{QM}[QM]{Quantum Mechanics}
\acrodef{RQM}[RQM]{Relativistic Quantum Mechanics}
\acrodef{QFT}[QFT]{Quantum Field Theory}
\acrodef{QED}[QED]{Quantum Electrodynamics}
\acrodef{QCD}[QCD]{Quantum Chromodynamics}
\acrodef{EWK}[EWK]{Electroweak}
\acrodef{SUSY}[SUSY]{Supersymmetry}
\acrodef{GUT}[GUT]{Grand Unified Theory}
\acrodef{VEV}[VEV]{Vacuum Expectation Value}
\acrodef{DY}[DY]{Drell-Yan}
\acrodef{LO}[LO]{Leading Order}
\acrodef{NLO}[NLO]{Next to Leading Order}
\acrodef{NNLO}[NNLO]{Next to Next to Leading Order}
\acrodef{EWPO}[EWPO]{Electroweak Precision Observable}
\acrodef{BPO}[BPO]{B-Physics Observable}
\acrodef{DM}[DM]{Dark Matter}
\acrodef{WIMP}[WIMP]{Weakly Interactive Massive Particle}
\acrodef{CMB}[CMB]{Cosmic Microwave Background}
\acrodef{CDM}[CDM]{Cold \ac{DM}}
\acrodef{HDM}[HDM]{Hot \ac{DM}}
\acrodef{LCDM}[LCDM]{\ensuremath{\Lambda}~\ac{CDM}}
\acrodef{RGE}[RGE]{Renormalization Group Equation}
\acrodef{LSP}[LSP]{Lightest Supersymmetric Particle}
\acrodef{FCNC}[FCNC]{Flavour Changing Neutral Current}
\acrodef{RGE}[RGE]{Renormalization Group Equation}
\acrodef{SSB}[SSB]{Spontaneous Symmetry Breaking}

\acrodef{BEH}[BEH]{Brout-Englert-Higgs}
\acrodef{GIM}[GIM]{Glashow–Iliopoulos–Maiani}

% Acronyms - Techniques
\acrodef{MC}[MC]{Monte Carlo}
\ac odef{CL}[CL]{Confidence Level}
\acrodef{ML}[ML]{Maximum Likelihood}
\acrodef{MCMC}[MCMC]{Markov Chain Monte Carlo}
\acrodef{PDF}[PDF]{Probability Distribution Function}
\acrodef{TA}[TA]{Time Averaged}

% Acronyms - Experimental
\acrodef{CMS}[CMS]{Compact Muon Solenoid}
\acrodef{ATLAS}[ATLAS]{A Toroidal LHC Apparatus}
\acrodef{LHCb}[LHCb]{Large Hadron Collider Beauty}
\acrodef{ALICE}[ALICE]{A Large Ion Collider Experiment}
\acrodef{LHC}[LHC]{Large Hadron Collider}
\acrodef{LEP}[LEP]{Large Electron Positron Collider}
\acrodef{ECAL}[ECAL]{Electromagnetic Calorimeter}
\acrodef{HCAL}[HCAL]{Hadronic Calorimeter}
\acrodef{MET}[\MET]{Missing Transverse Energy}
\acrodef{pT}[\PT]{Transverse Momentum}
\acrodef{pp}[\Pp\Pp]{proton-proton}
\acrodef{ppbar}[\Pp\Pap]{proton-antiproton}
\acrodef{CoM}[CoM]{Centre of mass}
\acrodef{CPV}[CPV]{CP Violation}
\acrodef{PSB}[PSB]{Proton Synchrotron Booster}
\acrodef{PS}[PS]{Proton Synchrotron}
\acrodef{SPS}[SPS]{Super Proton Synchrotron}
\acrodef{DT}[DT]{Drift Tube}
\acrodef{CSC}[CSC]{Cathode Strip Chamber}
\acrodef{RPC}[RPC]{Resistive Plate Chamber}
\acrodef{HO}[HO]{hadron outer}
\acrodef{HB}[HB]{hadron barrel}
\acrodef{HE}[HE]{hadron endcap}
\acrodef{HF}[HF]{hadron forward}
\acrodef{PD}[PD]{photo diode}
\acrodef{TIB}[TIB]{tracker inner barrel}
\acrodef{TOB}[TOB]{tracker outer barrel}
\acrodef{TID}[TID]{tracker inner disks}
\acrodef{TEC}[TEC]{tracker outer endcaps}
\acrodef{CSVM}[CSVM]{Combined  Secondary Vertex algorith with Medium working
point}

% Acronyms - Models
\acrodef{SM}[SM]{Standard Model}
\acrodef{BSM}[BSM]{Beyond \acl{SM}}
\acrodef{MSSM}[MSSM]{Minimal Supersymmetric \acl{SM}}
\acrodef{cMSSM}[cMSSM]{constrained \acl{MSSM}}
\acrodef{vcMSSM}[vcMSSM]{very constrained \acl{MSSM}}
\acrodef{mSUGRA}[mSUGRA]{minimal Super Gravity}
\acrodef{pMSSM}[pMSSM]{phenomenological \acl{MSSM}}
\acrodef{NUHM}[NUHM]{Non-Universal Higgs Model}
\acrodef{GMSB}[GMSB]{Gauge Mediated Symmetry Breaking}
\acrodef{SMS}[SMS]{Simplied Model Spectra}
